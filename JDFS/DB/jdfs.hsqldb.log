/*C5*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS Users (UserPK INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, UserGUID VARCHAR(36) NOT NULL UNIQUE, UserName VARCHAR(36) NOT NULL, AccountEmail VARCHAR(36) NOT NULL)
CREATE TABLE IF NOT EXISTS Peers (PeerPK INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, PeerGUID VARCHAR(36) NOT NULL,UserName VARCHAR(36) NOT NULL,AccountEmail VARCHAR(36) NOT NULL,MachineGUID VARCHAR(36) NOT NULL)
CREATE TABLE IF NOT EXISTS UserFiles (UserFilePK INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, FileGUID VARCHAR(36) NOT NULL, LocalFileName VARCHAR(2000) NOT NULL, LocalFilePath VARCHAR(2000) NOT NULL, LastUpdatedLocal DATETIME, CheckSum VARCHAR(36), IV VARCHAR(32) DEFAULT '', ParentGUID VARCHAR(36), RelativeParentPath VARCHAR(2000), Priority INTEGER DEFAULT 0 NOT NULL)
CREATE TABLE IF NOT EXISTS PeerFiles (FilePK INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, FileGUID VARCHAR(36) DEFAULT '' NOT NULL, LocalFileName VARCHAR(2000) NOT NULL, LocalFilePath VARCHAR(2000) NOT NULL, PathOnClient VARCHAR(2000) DEFAULT '' NOT NULL, UpdatedDate DATETIME NOT NULL, IV VARCHAR(32) NOT NULL, ParentGUID VARCHAR(36) DEFAULT '', RelativeParentPath VARCHAR(2000) DEFAULT '', Priority INT DEFAULT 0 NOT NULL, CheckSum VARCHAR(32) NOT NULL)
CREATE TABLE IF NOT EXISTS Machines (MachinePK INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, MachineGUID VARCHAR(36) NOT NULL UNIQUE)
CREATE TABLE IF NOT EXISTS UserFileLinks (LinkID INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, UserFilePK INTEGER NOT NULL, UserPK INTEGER NOT NULL, MachinePK INTEGER NOT NULL)
CREATE TABLE IF NOT EXISTS PeerFileLinks (LinkID INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, PeerFilePK INTEGER NOT NULL,PeerPK INTEGER NOT NULL,MachinePK INTEGER NOT NULL)
CREATE TABLE IF NOT EXISTS MachineUserLinks (LinkID INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, MachinePK INTEGER NOT NULL, UserPK INTEGER NOT NULL)
CREATE TABLE IF NOT EXISTS MachinePeerLinks (LinkID INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, MachinePK INTEGER NOT NULL, PeerPK INTEGER NOT NULL)
CREATE TABLE IF NOT EXISTS MachineIP4Links (LinkID INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, MachinePK INTEGER NOT NULL, IP4 VARCHAR(16) NOT NULL)
CREATE TABLE IF NOT EXISTS MachineIP6Links (LinkID INTEGER Generated By DEFAULT As IDENTITY PRIMARY KEY, MachinePK INTEGER NOT NULL, IP6 VARCHAR(46) NOT NULL)
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
INSERT INTO MACHINES VALUES(14,'18fc715b-ba17-471b-9b43-591cda8a5a11')
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
